/**
 * Flower Animations - CSS-Only Version
 *
 * Replaces Framer Motion animations for flower components
 * Reduces bundle size by ~70-80 kB while maintaining identical visual output
 *
 * Performance: CSS animations are hardware-accelerated and more performant
 * than JavaScript-driven animations for simple transforms
 */

/* Flower entrance animation (replaces Framer Motion initial/animate) */
@keyframes flowerEnter {
  0% {
    opacity: 0;
    transform: scale(0) translateY(-50%);
  }
  60% {
    transform: scale(1.05) translateY(-50%);
  }
  100% {
    opacity: 1;
    transform: scale(1) translateY(-50%);
  }
}

/* Gentle breeze animation - very subtle movement */
@keyframes gentleBreeze {
  0% {
    transform: rotate(0deg) translateX(0px) translateY(0px) scale(1);
  }
  25% {
    transform: rotate(0.8deg) translateX(1px) translateY(-0.5px) scale(1.01);
  }
  50% {
    transform: rotate(0deg) translateX(0px) translateY(0px) scale(1);
  }
  75% {
    transform: rotate(-0.8deg) translateX(-1px) translateY(0.5px) scale(1.01);
  }
  100% {
    transform: rotate(0deg) translateX(0px) translateY(0px) scale(1);
  }
}

/* Stronger breeze for larger flowers */
@keyframes mediumBreeze {
  0% {
    transform: rotate(0deg) translateX(0px) translateY(0px) scale(1);
  }
  20% {
    transform: rotate(1.2deg) translateX(1.5px) translateY(-0.8px) scale(1.02);
  }
  40% {
    transform: rotate(0deg) translateX(0px) translateY(0px) scale(1);
  }
  60% {
    transform: rotate(-1.2deg) translateX(-1.5px) translateY(0.8px) scale(1.02);
  }
  80% {
    transform: rotate(0deg) translateX(0px) translateY(0px) scale(1);
  }
  100% {
    transform: rotate(0deg) translateX(0px) translateY(0px) scale(1);
  }
}

/* Tier1 Flower specific entrance (cherry blossom) */
.tier1-flower-enter {
  opacity: 0; /* Prevent flash before animation */
  animation:
    flowerEnter 0.8s cubic-bezier(0.25, 0.46, 0.45, 0.94) 0.5s both,
    mediumBreeze 16s ease-in-out 1.3s infinite;
}

/* Tier2 Flower specific entrance (purple rose) */
.tier2-flower-enter {
  opacity: 0; /* Prevent flash before animation */
  animation:
    flowerEnter 0.8s cubic-bezier(0.25, 0.46, 0.45, 0.94) 0.5s both,
    mediumBreeze 18s ease-in-out 1.5s infinite;
}

/* Tier3 Flower specific entrance (golden daisy) */
.tier3-flower-enter {
  opacity: 0; /* Prevent flash before animation */
  animation:
    flowerEnter 0.8s cubic-bezier(0.25, 0.46, 0.45, 0.94) 0.6s both,
    gentleBreeze 14s ease-in-out 1.8s infinite;
}

/* Sparkle burst animation (replaces Framer Motion sparkle particles) */
@keyframes sparkleBurst {
  0% {
    opacity: 0.8;
    transform: translate(0, 0) scale(1);
  }
  33% {
    opacity: 0.8;
  }
  100% {
    opacity: 0;
    transform: var(--sparkle-end-position) scale(0.3);
  }
}

/* Tier2 Sparkle (purple rose - 4 sparkles) */
.tier2-sparkle {
  position: absolute;
  left: 50%;
  top: 50%;
  width: 4px;
  height: 4px;
  border-radius: 50%;
  background: #c7abd9; /* Soft lavender to match rose */
  pointer-events: none;
  animation: sparkleBurst 2.5s cubic-bezier(0.25, 0.46, 0.45, 0.94) infinite;
}

/* Individual sparkle delays for Tier2 */
.tier2-sparkle:nth-child(1) {
  --sparkle-end-position: translate(25px, 0);
  animation-delay: 1.2s;
}

.tier2-sparkle:nth-child(2) {
  --sparkle-end-position: translate(0, 25px);
  animation-delay: 1.35s;
}

.tier2-sparkle:nth-child(3) {
  --sparkle-end-position: translate(-25px, 0);
  animation-delay: 1.5s;
}

.tier2-sparkle:nth-child(4) {
  --sparkle-end-position: translate(0, -25px);
  animation-delay: 1.65s;
}

/* Tier3 Sparkle (golden daisy - 8 sparkles) */
.tier3-sparkle {
  position: absolute;
  left: 50%;
  top: 50%;
  width: 4px;
  height: 4px;
  border-radius: 50%;
  background: #ffb300; /* Golden */
  pointer-events: none;
  animation: sparkleBurstGold 3s cubic-bezier(0.25, 0.46, 0.45, 0.94) infinite;
}

@keyframes sparkleBurstGold {
  0% {
    opacity: 0;
    transform: translate(0, 0) scale(1);
  }
  16% {
    opacity: 0.9;
  }
  50% {
    opacity: 0.9;
    transform: var(--sparkle-end-position) scale(1.3);
  }
  100% {
    opacity: 0;
    transform: var(--sparkle-end-position) scale(0.3);
  }
}

/* Individual sparkle delays for Tier3 (8 sparkles in circle) */
.tier3-sparkle:nth-child(1) {
  --sparkle-end-position: translate(35px, 0);
  animation-delay: 1.5s;
}

.tier3-sparkle:nth-child(2) {
  --sparkle-end-position: translate(24.75px, 24.75px);
  animation-delay: 1.8s;
}

.tier3-sparkle:nth-child(3) {
  --sparkle-end-position: translate(0, 35px);
  animation-delay: 2.1s;
}

.tier3-sparkle:nth-child(4) {
  --sparkle-end-position: translate(-24.75px, 24.75px);
  animation-delay: 2.4s;
}

.tier3-sparkle:nth-child(5) {
  --sparkle-end-position: translate(-35px, 0);
  animation-delay: 2.7s;
}

.tier3-sparkle:nth-child(6) {
  --sparkle-end-position: translate(-24.75px, -24.75px);
  animation-delay: 3s;
}

.tier3-sparkle:nth-child(7) {
  --sparkle-end-position: translate(0, -35px);
  animation-delay: 3.3s;
}

.tier3-sparkle:nth-child(8) {
  --sparkle-end-position: translate(24.75px, -24.75px);
  animation-delay: 3.6s;
}

/* Staggered breeze variations for natural randomness */
.flower-small-1 .tier1-flower-enter,
.flower-small-1 .tier2-flower-enter,
.flower-small-1 .tier3-flower-enter {
  animation-delay: 1.2s, 2.1s; /* Different start times for entrance + breeze */
  animation-duration: 0.8s, 15s;
}

.flower-small-2 .tier1-flower-enter,
.flower-small-2 .tier2-flower-enter,
.flower-small-2 .tier3-flower-enter {
  animation-delay: 1.4s, 3.2s;
  animation-duration: 0.8s, 17s;
}

.flower-small-3 .tier1-flower-enter,
.flower-small-3 .tier2-flower-enter,
.flower-small-3 .tier3-flower-enter {
  animation-delay: 1.6s, 1.8s;
  animation-duration: 0.8s, 19s;
}

.flower-small-4 .tier1-flower-enter,
.flower-small-4 .tier2-flower-enter,
.flower-small-4 .tier3-flower-enter {
  animation-delay: 1.8s, 4.5s;
  animation-duration: 0.8s, 16s;
}

.flower-small-5 .tier1-flower-enter,
.flower-small-5 .tier2-flower-enter,
.flower-small-5 .tier3-flower-enter {
  animation-delay: 2s, 2.8s;
  animation-duration: 0.8s, 14s;
}

.flower-small-6 .tier1-flower-enter,
.flower-small-6 .tier2-flower-enter,
.flower-small-6 .tier3-flower-enter {
  animation-delay: 2.2s, 5.1s;
  animation-duration: 0.8s, 18s;
}

.flower-small-7 .tier1-flower-enter,
.flower-small-7 .tier2-flower-enter,
.flower-small-7 .tier3-flower-enter {
  animation-delay: 2.4s, 3.7s;
  animation-duration: 0.8s, 20s;
}

.flower-small-8 .tier1-flower-enter,
.flower-small-8 .tier2-flower-enter,
.flower-small-8 .tier3-flower-enter {
  animation-delay: 2.6s, 1.9s;
  animation-duration: 0.8s, 15s;
}

.flower-small-9 .tier1-flower-enter,
.flower-small-9 .tier2-flower-enter,
.flower-small-9 .tier3-flower-enter {
  animation-delay: 2.8s, 6.2s;
  animation-duration: 0.8s, 17s;
}

/* Reduced motion support */
@media (prefers-reduced-motion: reduce) {
  .tier1-flower-enter,
  .tier2-flower-enter,
  .tier3-flower-enter {
    animation: flowerEnter 0.8s cubic-bezier(0.25, 0.46, 0.45, 0.94) 0.5s both !important;
    opacity: 1;
  }

  .tier2-sparkle,
  .tier3-sparkle {
    display: none;
  }
}

/* Mobile optimizations - fewer sparkles */
@media (max-width: 767px) {
  /* Hide some sparkles on mobile for performance */
  .tier2-sparkle:nth-child(3),
  .tier2-sparkle:nth-child(4) {
    display: none;
  }

  .tier3-sparkle:nth-child(5),
  .tier3-sparkle:nth-child(6),
  .tier3-sparkle:nth-child(7),
  .tier3-sparkle:nth-child(8) {
    display: none;
  }
}
