<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Environment Variable Test</title>
</head>
<body>
    <h1>Environment Variable Test</h1>
    <div id="results"></div>

    <script type="module">
        console.log('ğŸ”¥ SIMPLE ENV TEST - STARTING');
        console.log('ğŸ”¥ =================================');
        
        try {
            // Test multiple ways to access environment variables
            console.log('ğŸ”¥ Testing different methods...');
            
            // Method 1: import.meta
            console.log('ğŸ”¥ import.meta exists:', typeof import.meta !== 'undefined');
            console.log('ğŸ”¥ import.meta:', import.meta);
            
            if (import.meta) {
                console.log('ğŸ”¥ import.meta.env exists:', typeof import.meta.env !== 'undefined');
                console.log('ğŸ”¥ import.meta.env:', import.meta.env);
                
                if (import.meta.env) {
                    console.log('ğŸ”¥ Environment variables found!');
                    console.log('ğŸ”¥ All env keys:', Object.keys(import.meta.env));
                    console.log('ğŸ”¥ VITE_GA_MEASUREMENT_ID:', import.meta.env.VITE_GA_MEASUREMENT_ID);
                    console.log('ğŸ”¥ VITE_GOOGLE_ADS_ID:', import.meta.env.VITE_GOOGLE_ADS_ID);
                    console.log('ğŸ”¥ VITE_CHAT_ENABLED:', import.meta.env.VITE_CHAT_ENABLED);
                    console.log('ğŸ”¥ MODE:', import.meta.env.MODE);
                    console.log('ğŸ”¥ DEV:', import.meta.env.DEV);
                    console.log('ğŸ”¥ PROD:', import.meta.env.PROD);
                    console.log('ğŸ”¥ BASE_URL:', import.meta.env.BASE_URL);
                    
                    // Display on page
                    const results = document.getElementById('results');
                    results.innerHTML = `
                        <h2>âœ… Environment Variables Found!</h2>
                        <p><strong>VITE_GA_MEASUREMENT_ID:</strong> ${import.meta.env.VITE_GA_MEASUREMENT_ID || 'MISSING'}</p>
                        <p><strong>VITE_GOOGLE_ADS_ID:</strong> ${import.meta.env.VITE_GOOGLE_ADS_ID || 'MISSING'}</p>
                        <p><strong>VITE_CHAT_ENABLED:</strong> ${import.meta.env.VITE_CHAT_ENABLED || 'MISSING'}</p>
                        <p><strong>MODE:</strong> ${import.meta.env.MODE || 'MISSING'}</p>
                        <p><strong>DEV:</strong> ${import.meta.env.DEV}</p>
                        <p><strong>PROD:</strong> ${import.meta.env.PROD}</p>
                        <p><strong>BASE_URL:</strong> ${import.meta.env.BASE_URL || 'MISSING'}</p>
                        <p><strong>Total env vars:</strong> ${Object.keys(import.meta.env).length}</p>
                        <hr>
                        <h3>All Environment Variables:</h3>
                        <pre>${JSON.stringify(import.meta.env, null, 2)}</pre>
                    `;
                } else {
                    console.log('ğŸ”¥ âŒ import.meta.env is undefined or null');
                    document.getElementById('results').innerHTML = '<p style="color: red;">âŒ import.meta.env is undefined or null</p>';
                }
            } else {
                console.log('ğŸ”¥ âŒ import.meta is undefined');
                document.getElementById('results').innerHTML = '<p style="color: red;">âŒ import.meta is undefined</p>';
            }
            
            // Method 2: Check if we're in the right context
            console.log('ğŸ”¥ Browser context checks:');
            console.log('ğŸ”¥ window exists:', typeof window !== 'undefined');
            console.log('ğŸ”¥ location.href:', window.location.href);
            console.log('ğŸ”¥ Script type:', document.currentScript?.type);
            
        } catch (error) {
            console.log('ğŸ”¥ âŒ Error accessing environment:', error);
            console.log('ğŸ”¥ Error stack:', error.stack);
            document.getElementById('results').innerHTML = `
                <p style="color: red;">âŒ Error: ${error.message}</p>
                <pre style="color: red;">${error.stack}</pre>
            `;
        }
        
        console.log('ğŸ”¥ =================================');
    </script>
</body>
</html>
