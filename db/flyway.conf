# =============================================================================
# Flyway Configuration for Azure SQL Database
# =============================================================================
# Documentation: https://documentation.red-gate.com/fd/configuration-184127448.html
# 
# Environment-specific connection strings should be set via environment variables
# or CI/CD secrets, not in this file.
# =============================================================================

# Locations to scan for migrations (relative to flyway.conf)
flyway.locations=filesystem:./migrations

# Table to track applied migrations
flyway.table=flyway_schema_history

# Encoding of SQL migrations
flyway.encoding=UTF-8

# Prefix for versioned migrations
flyway.sqlMigrationPrefix=V

# Separator between version and description
flyway.sqlMigrationSeparator=__

# Suffix for SQL migrations
flyway.sqlMigrationSuffixes=.sql

# Whether to automatically call baseline when migrate is executed on a non-empty schema
flyway.baselineOnMigrate=true

# Version to tag existing schema with when baseline is run
flyway.baselineVersion=0

# Mixed migrations (allow both transactional and non-transactional)
flyway.mixed=true

# Placeholder replacement
flyway.placeholderReplacement=false

# Output more verbose logging
flyway.outputQueryResults=true

# =============================================================================
# Connection settings (override via environment variables)
# =============================================================================
# Set these via environment variables in CI/CD:
#   FLYWAY_URL=jdbc:sqlserver://server.database.windows.net;database=mydb;encrypt=true
#   FLYWAY_USER=username
#   FLYWAY_PASSWORD=password
# =============================================================================
